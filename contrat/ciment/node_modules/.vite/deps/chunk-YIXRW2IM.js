import {
  modal_css_default
} from "./chunk-K3A6P7OR.js";
import {
  o
} from "./chunk-DNJDNKIZ.js";
import {
  firstFocusableIn
} from "./chunk-L7KH37RZ.js";
import {
  C,
  css,
  html,
  property,
  query
} from "./chunk-XM354YEY.js";

// node_modules/@spectrum-web-components/reactive-controllers/src/MatchMedia.dev.js
var IS_MOBILE = "(max-width: 743px) and (hover: none) and (pointer: coarse)";
var MatchMediaController = class {
  constructor(host, query2) {
    this.key = /* @__PURE__ */ Symbol("match-media-key");
    this.matches = false;
    this.host = host;
    this.host.addController(this);
    this.media = window.matchMedia(query2);
    this.matches = this.media.matches;
    this.onChange = this.onChange.bind(this);
    host.addController(this);
  }
  hostConnected() {
    var _a;
    (_a = this.media) == null ? void 0 : _a.addEventListener("change", this.onChange);
  }
  hostDisconnected() {
    var _a;
    (_a = this.media) == null ? void 0 : _a.removeEventListener("change", this.onChange);
  }
  onChange(event) {
    if (this.matches === event.matches) return;
    this.matches = event.matches;
    this.host.requestUpdate(this.key, !this.matches);
  }
};

// node_modules/@spectrum-web-components/tray/src/tray.css.js
var r = css`
    :host{justify-content:center;inline-size:100%;display:flex;position:fixed;inset-block-end:0;inset-inline-start:0}.tray{--spectrum-tray-max-inline-size:var(--mod-tray-max-inline-size,375px);--spectrum-tray-spacing-edge-to-tray-safe-zone:var(--mod-tray-spacing-edge-to-tray-safe-zone,64px);--spectrum-tray-entry-animation-delay:var(--mod-tray-entry-animation-delay,.16s);--spectrum-tray-entry-animation-duration:var(--mod-tray-entry-animation-duration,var(--spectrum-animation-duration-500));--spectrum-tray-exit-animation-delay:var(--mod-tray-exit-animation-delay,0s);--spectrum-tray-exit-animation-duration:var(--mod-tray-exit-animation-duration,var(--spectrum-animation-duration-100));--spectrum-tray-corner-radius:var(--mod-tray-corner-radius,var(--spectrum-corner-radius-100));--spectrum-tray-background-color:var(--highcontrast-tray-background-color,var(--mod-tray-background-color,var(--spectrum-background-layer-2-color)));--mod-modal-max-width:100%;max-block-size:calc(100vh - 64px);inline-size:100%;max-inline-size:100%;max-block-size:calc(100vh - var(--spectrum-tray-spacing-edge-to-tray-safe-zone));box-sizing:border-box;border-radius:0;border-radius:var(--mod-tray-corner-radius-portrait,0)var(--mod-tray-corner-radius-portrait,0)0 0;transition:opacity var(--spectrum-tray-exit-animation-duration)cubic-bezier(.5,0,1,1)0s,visibility var(--spectrum-tray-exit-animation-duration)linear calc(var(--spectrum-tray-exit-animation-duration)),transform var(--spectrum-tray-exit-animation-duration)cubic-bezier(.5,0,1,1)0s;transition:opacity var(--spectrum-tray-exit-animation-duration)cubic-bezier(.5,0,1,1)var(--spectrum-tray-exit-animation-delay),visibility var(--spectrum-tray-exit-animation-duration)linear calc(var(--spectrum-tray-exit-animation-delay) + var(--spectrum-tray-exit-animation-duration)),transform var(--spectrum-tray-exit-animation-duration)cubic-bezier(.5,0,1,1)var(--spectrum-tray-exit-animation-delay);background-color:var(--spectrum-tray-background-color);outline:none;margin-block-start:var(--spectrum-tray-spacing-edge-to-tray-safe-zone);padding-block-start:var(--mod-tray-top-to-content-area,var(--spectrum-tray-top-to-content-area));padding-block-end:var(--mod-tray-bottom-to-content-area,var(--spectrum-tray-top-to-content-area));overflow:auto;transform:translateY(100%)}:host([open]) .tray{transition:transform var(--spectrum-tray-entry-animation-duration)cubic-bezier(0,0,.4,1)var(--spectrum-tray-entry-animation-delay),opacity var(--spectrum-tray-entry-animation-duration)cubic-bezier(0,0,.4,1)var(--spectrum-tray-entry-animation-delay);transform:translateY(0)}@media screen and (orientation:landscape){.tray{max-inline-size:var(--spectrum-tray-max-inline-size);border-start-start-radius:var(--spectrum-tray-corner-radius);border-start-end-radius:var(--spectrum-tray-corner-radius)}}@media (forced-colors:active){.tray{--highcontrast-tray-background-color:Canvas;border:solid}.tray ::slotted(*){border:none}}:host{align-items:flex-end;max-height:100dvh;position:fixed!important}sp-underlay{touch-action:none}.tray{overscroll-behavior:contain;display:inline-flex}::slotted(.visually-hidden){clip:rect(0,0,0,0);clip-path:inset(50%);white-space:nowrap;border:0;width:1px;height:1px;margin:0 -1px -1px 0;padding:0;position:absolute;overflow:hidden}
`;
var tray_css_default = r;

// node_modules/@spectrum-web-components/tray/src/Tray.dev.js
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __decorateClass = (decorators, target, key, kind) => {
  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;
  for (var i = decorators.length - 1, decorator; i >= 0; i--)
    if (decorator = decorators[i])
      result = (kind ? decorator(target, key, result) : decorator(result)) || result;
  if (kind && result) __defProp(target, key, result);
  return result;
};
var Tray = class extends C {
  constructor() {
    super(...arguments);
    this.open = false;
    this.prefersMotion = new MatchMediaController(
      this,
      "(prefers-reduced-motion: no-preference)"
    );
    this.transitionPromise = Promise.resolve();
    this.resolveTransitionPromise = () => {
    };
    this.animating = false;
  }
  static get styles() {
    return [modal_css_default, tray_css_default];
  }
  focus() {
    const firstFocusable = firstFocusableIn(this);
    if (firstFocusable) {
      firstFocusable.focus();
    } else if (this.children.length === 1) {
      this.tray.focus();
    } else {
      super.focus();
    }
  }
  overlayWillCloseCallback() {
    if (!this.open) return this.animating;
    this.close();
    return true;
  }
  close() {
    this.open = false;
    if (!this.prefersMotion.matches) {
      this.dispatchClosed();
    }
  }
  dispatchClosed() {
    this.dispatchEvent(
      new Event("close", {
        bubbles: true
      })
    );
  }
  handleUnderlayTransitionend() {
    if (!this.open) {
      this.resolveTransitionPromise();
      this.dispatchClosed();
    }
  }
  handleTrayTransitionend() {
    if (this.open) {
      this.resolveTransitionPromise();
    }
  }
  update(changes) {
    if (changes.has("open") && changes.get("open") !== void 0 && this.prefersMotion.matches) {
      this.animating = true;
      this.transitionPromise = new Promise((res) => {
        this.resolveTransitionPromise = () => {
          this.animating = false;
          res();
        };
      });
    }
    super.update(changes);
  }
  render() {
    return html`
            <sp-underlay
                ?open=${this.open}
                @close=${this.close}
                @transitionend=${this.handleUnderlayTransitionend}
            ></sp-underlay>
            <div
                class="tray modal"
                tabindex="-1"
                @transitionend=${this.handleTrayTransitionend}
            >
                <slot></slot>
            </div>
        `;
  }
  /**
   * Bind the open/close transition into the update complete lifecycle so
   * that the overlay system can wait for it to be "visibly ready" before
   * attempting to throw focus into the content contained herein. Not
   * waiting for this can cause small amounts of page scroll to happen
   * while opening the Tray when focusable content is included: e.g. Menu
   * elements whose selected Menu Item is not the first Menu Item.
   */
  async getUpdateComplete() {
    const complete = await super.getUpdateComplete();
    await this.transitionPromise;
    return complete;
  }
};
__decorateClass([
  property({ type: Boolean, reflect: true })
], Tray.prototype, "open", 2);
__decorateClass([
  query(".tray")
], Tray.prototype, "tray", 2);

// node_modules/@spectrum-web-components/tray/sp-tray.dev.js
o("sp-tray", Tray);

export {
  IS_MOBILE,
  MatchMediaController
};
//# sourceMappingURL=chunk-YIXRW2IM.js.map
