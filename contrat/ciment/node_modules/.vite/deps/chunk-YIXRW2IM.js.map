{
  "version": 3,
  "sources": ["../../@spectrum-web-components/reactive-controllers/src/MatchMedia.ts", "../../@spectrum-web-components/tray/src/tray.css.ts", "../../@spectrum-web-components/tray/src/Tray.ts", "../../@spectrum-web-components/tray/sp-tray.ts"],
  "sourcesContent": ["/**\n * Copyright 2025 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport type { ReactiveController, ReactiveElement } from 'lit';\n\nexport const DARK_MODE = '(prefers-color-scheme: dark)';\nexport const IS_MOBILE =\n    '(max-width: 743px) and (hover: none) and (pointer: coarse)';\n\nexport class MatchMediaController implements ReactiveController {\n    key = Symbol('match-media-key');\n\n    matches = false;\n\n    protected host: ReactiveElement;\n\n    protected media: MediaQueryList;\n\n    constructor(host: ReactiveElement, query: string) {\n        this.host = host;\n        this.host.addController(this);\n        this.media = window.matchMedia(query);\n        this.matches = this.media.matches;\n        this.onChange = this.onChange.bind(this);\n        host.addController(this);\n    }\n\n    public hostConnected(): void {\n        this.media?.addEventListener('change', this.onChange);\n    }\n\n    public hostDisconnected(): void {\n        this.media?.removeEventListener('change', this.onChange);\n    }\n\n    protected onChange(event: MediaQueryListEvent): void {\n        if (this.matches === event.matches) return;\n        this.matches = event.matches;\n        this.host.requestUpdate(this.key, !this.matches);\n    }\n}\n", "import { css } from '@spectrum-web-components/base';\nconst styles = css`\n    :host{justify-content:center;inline-size:100%;display:flex;position:fixed;inset-block-end:0;inset-inline-start:0}.tray{--spectrum-tray-max-inline-size:var(--mod-tray-max-inline-size,375px);--spectrum-tray-spacing-edge-to-tray-safe-zone:var(--mod-tray-spacing-edge-to-tray-safe-zone,64px);--spectrum-tray-entry-animation-delay:var(--mod-tray-entry-animation-delay,.16s);--spectrum-tray-entry-animation-duration:var(--mod-tray-entry-animation-duration,var(--spectrum-animation-duration-500));--spectrum-tray-exit-animation-delay:var(--mod-tray-exit-animation-delay,0s);--spectrum-tray-exit-animation-duration:var(--mod-tray-exit-animation-duration,var(--spectrum-animation-duration-100));--spectrum-tray-corner-radius:var(--mod-tray-corner-radius,var(--spectrum-corner-radius-100));--spectrum-tray-background-color:var(--highcontrast-tray-background-color,var(--mod-tray-background-color,var(--spectrum-background-layer-2-color)));--mod-modal-max-width:100%;max-block-size:calc(100vh - 64px);inline-size:100%;max-inline-size:100%;max-block-size:calc(100vh - var(--spectrum-tray-spacing-edge-to-tray-safe-zone));box-sizing:border-box;border-radius:0;border-radius:var(--mod-tray-corner-radius-portrait,0)var(--mod-tray-corner-radius-portrait,0)0 0;transition:opacity var(--spectrum-tray-exit-animation-duration)cubic-bezier(.5,0,1,1)0s,visibility var(--spectrum-tray-exit-animation-duration)linear calc(var(--spectrum-tray-exit-animation-duration)),transform var(--spectrum-tray-exit-animation-duration)cubic-bezier(.5,0,1,1)0s;transition:opacity var(--spectrum-tray-exit-animation-duration)cubic-bezier(.5,0,1,1)var(--spectrum-tray-exit-animation-delay),visibility var(--spectrum-tray-exit-animation-duration)linear calc(var(--spectrum-tray-exit-animation-delay) + var(--spectrum-tray-exit-animation-duration)),transform var(--spectrum-tray-exit-animation-duration)cubic-bezier(.5,0,1,1)var(--spectrum-tray-exit-animation-delay);background-color:var(--spectrum-tray-background-color);outline:none;margin-block-start:var(--spectrum-tray-spacing-edge-to-tray-safe-zone);padding-block-start:var(--mod-tray-top-to-content-area,var(--spectrum-tray-top-to-content-area));padding-block-end:var(--mod-tray-bottom-to-content-area,var(--spectrum-tray-top-to-content-area));overflow:auto;transform:translateY(100%)}:host([open]) .tray{transition:transform var(--spectrum-tray-entry-animation-duration)cubic-bezier(0,0,.4,1)var(--spectrum-tray-entry-animation-delay),opacity var(--spectrum-tray-entry-animation-duration)cubic-bezier(0,0,.4,1)var(--spectrum-tray-entry-animation-delay);transform:translateY(0)}@media screen and (orientation:landscape){.tray{max-inline-size:var(--spectrum-tray-max-inline-size);border-start-start-radius:var(--spectrum-tray-corner-radius);border-start-end-radius:var(--spectrum-tray-corner-radius)}}@media (forced-colors:active){.tray{--highcontrast-tray-background-color:Canvas;border:solid}.tray ::slotted(*){border:none}}:host{align-items:flex-end;max-height:100dvh;position:fixed!important}sp-underlay{touch-action:none}.tray{overscroll-behavior:contain;display:inline-flex}::slotted(.visually-hidden){clip:rect(0,0,0,0);clip-path:inset(50%);white-space:nowrap;border:0;width:1px;height:1px;margin:0 -1px -1px 0;padding:0;position:absolute;overflow:hidden}\n`;\nexport default styles;", "/**\n * Copyright 2025 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {\n    CSSResultArray,\n    html,\n    PropertyValues,\n    SpectrumElement,\n    TemplateResult,\n} from '@spectrum-web-components/base';\nimport {\n    property,\n    query,\n} from '@spectrum-web-components/base/src/decorators.js';\nimport '@spectrum-web-components/underlay/sp-underlay.js';\nimport { firstFocusableIn } from '@spectrum-web-components/shared/src/first-focusable-in.js';\nimport { MatchMediaController } from '@spectrum-web-components/reactive-controllers/src/MatchMedia.js';\n\nimport modalStyles from '@spectrum-web-components/modal/src/modal.css.js';\nimport styles from './tray.css.js';\n\n/**\n * @element sp-tray\n *\n * @slot - content to display within the Tray\n *\n * @fires close - Announces that the Tray has been closed.\n */\nexport class Tray extends SpectrumElement {\n    public static override get styles(): CSSResultArray {\n        return [modalStyles, styles];\n    }\n\n    @property({ type: Boolean, reflect: true })\n    public open = false;\n\n    protected prefersMotion = new MatchMediaController(\n        this,\n        '(prefers-reduced-motion: no-preference)'\n    );\n\n    private transitionPromise = Promise.resolve();\n\n    private resolveTransitionPromise = () => {};\n\n    @query('.tray')\n    private tray!: HTMLDivElement;\n\n    public override focus(): void {\n        const firstFocusable = firstFocusableIn(this);\n        if (firstFocusable) {\n            firstFocusable.focus();\n        } else if (this.children.length === 1) {\n            this.tray.focus();\n        } else {\n            super.focus();\n        }\n    }\n\n    private animating = false;\n\n    public overlayWillCloseCallback(): boolean {\n        if (!this.open) return this.animating;\n        this.close();\n        return true;\n    }\n\n    public close(): void {\n        this.open = false;\n        if (!this.prefersMotion.matches) {\n            this.dispatchClosed();\n        }\n    }\n\n    private dispatchClosed(): void {\n        this.dispatchEvent(\n            new Event('close', {\n                bubbles: true,\n            })\n        );\n    }\n\n    protected handleUnderlayTransitionend(): void {\n        if (!this.open) {\n            this.resolveTransitionPromise();\n            this.dispatchClosed();\n        }\n    }\n\n    protected handleTrayTransitionend(): void {\n        if (this.open) {\n            this.resolveTransitionPromise();\n        }\n    }\n\n    protected override update(changes: PropertyValues<this>): void {\n        if (\n            changes.has('open') &&\n            changes.get('open') !== undefined &&\n            this.prefersMotion.matches\n        ) {\n            this.animating = true;\n            this.transitionPromise = new Promise((res) => {\n                this.resolveTransitionPromise = () => {\n                    this.animating = false;\n                    res();\n                };\n            });\n        }\n        super.update(changes);\n    }\n\n    protected override render(): TemplateResult {\n        return html`\n            <sp-underlay\n                ?open=${this.open}\n                @close=${this.close}\n                @transitionend=${this.handleUnderlayTransitionend}\n            ></sp-underlay>\n            <div\n                class=\"tray modal\"\n                tabindex=\"-1\"\n                @transitionend=${this.handleTrayTransitionend}\n            >\n                <slot></slot>\n            </div>\n        `;\n    }\n\n    /**\n     * Bind the open/close transition into the update complete lifecycle so\n     * that the overlay system can wait for it to be \"visibly ready\" before\n     * attempting to throw focus into the content contained herein. Not\n     * waiting for this can cause small amounts of page scroll to happen\n     * while opening the Tray when focusable content is included: e.g. Menu\n     * elements whose selected Menu Item is not the first Menu Item.\n     */\n    protected override async getUpdateComplete(): Promise<boolean> {\n        const complete = (await super.getUpdateComplete()) as boolean;\n        await this.transitionPromise;\n        return complete;\n    }\n}\n", "/**\n * Copyright 2025 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport { Tray } from './src/Tray.dev.js'\nimport { defineElement } from '@spectrum-web-components/base/src/define-element.js';\n\ndefineElement('sp-tray', Tray);\n\ndeclare global {\n    interface HTMLElementTagNameMap {\n        'sp-tray': Tray;\n    }\n}\n"],
  "mappings": "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",
  "names": ["query", "styles", "css"]
}
